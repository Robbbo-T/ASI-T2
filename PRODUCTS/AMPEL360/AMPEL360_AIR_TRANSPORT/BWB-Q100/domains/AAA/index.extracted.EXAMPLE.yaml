# Enhanced index.extracted.yaml Example
# Demonstrates IDEALE-EU federation schema v1.0.0
# Product: AMPEL360 Air Transport / BWB-Q100
# Domain: AAA (Airframes, Aerodynamics & Airworthiness)

# Schema metadata (NEW in v1.0.0)
schema_version: "1.0.0"
product: "AMPEL360_AIR_TRANSPORT"
platform: "BWB-Q100"
domain: "AAA"

# Data classification (NEW - required per DATA_CLASSIFICATION.md)
classification: "OPEN"  # OPEN | SHARED | RESTRICTED | CONTROLLED

# Standards compliance (NEW)
standards:
  - "S1000D"
  - "STEP-AP242"
  - "SPDX"
  - "CycloneDX"
  - "CS-25"  # EASA Certification Specification

# Artifacts inventory (NEW - replaces loose file lists)
artifacts:
  - type: "s1000d:dmrl"
    path: "ata/ATA-57/DMRL.xml"
    description: "Data Module Requirements List for Wings"
  
  - type: "cax:cad"
    path: "cax/CAD/wing_baseline_model/BWB-Q100-WING-001.step"
    description: "Wing baseline STEP AP242 model"
    hash_sha256: "a3b5c8d9e1f2a3b5c8d9e1f2a3b5c8d9e1f2a3b5c8d9e1f2a3b5c8d9e1f2a3b5"
  
  - type: "cax:cfd"
    path: "cax/CFD/cruise_analysis/results/summary.json"
    description: "Cruise condition CFD analysis results"
  
  - type: "qox:problem"
    path: "qox/QAOA/problems/wing-topology-opt.json"
    description: "Wing topology optimization QUBO problem"
  
  - type: "sbom:spdx"
    path: "pax/OFF/bwb-q100-aaa-tools/sbom.spdx.json"
    description: "SBOM for off-board analysis tools"

# Licensing (NEW - per multi-license framework)
licenses:
  code: "Apache-2.0"
  docs: "CC-BY-4.0"
  hardware: "CERN-OHL-S-2.0"

# Export control compliance (NEW - required per EXPORT_CONTROL.md)
export_control:
  itar: false
  ear: "NLR"  # No License Required
  eu_dual_use: "none"

# Contacts (NEW - maintainers and working group)
contacts:
  - "aaa-wg@ideale-eu.example"
  - "bwb-q100-maintainers@ideale-eu.example"

# Optional: Provenance and traceability
provenance:
  sbom: "pax/OFF/bwb-q100-aaa-tools/sbom.spdx.json"
  signatures:
    qs_anchor: "pending"  # UTCS/QS anchor hash
  utcs_mi: "v5.0"
  bridge: "CB→QB→UE→FE→FWD→QS"

# Legacy fields (retained for backward compatibility)
# These were auto-generated by derive_struct_from_readmes.py
# and are gradually being replaced by the structured artifacts list above

domain: "AAA"
project: "PRODUCTS/AMPEL360/BWB-Q100"

brex:
  ok: false
  issues:
    - "missing:id"
    - "missing:project"
    - "missing:artifact"
    - "missing:llc"
    - "missing:classification"  # RESOLVED by new schema
    - "missing:version"
    - "missing:release_date"
    - "missing:maintainer"
    - "missing:bridge"
    - "missing:ethics_guard"
    - "missing:utcs_mi"  # RESOLVED by provenance.utcs_mi
    - "missing:canonical_hash"
  warnings: []

extracted:
  ATA:
    - chapter: "51"
      section: "57"
    - chapter: "32"
    - chapter: "20"
    - chapter: "51"
    - chapter: "52"
    - chapter: "53"
    - chapter: "54"
    - chapter: "55"
    - chapter: "56"
    - chapter: "57"
  CAx:
    - "CAD"
    - "CAE"
    - "CAX"
    - "CFD"
    - "PDM-PLM-PLM"
    - "VP"
  QOx:
    - "ANNEALING"
    - "BQM"
    - "QAOA"
    - "QUBO"
  PAx:
    OB: []
    OFF: []

generated:
  ata: 10
  cax: 2
  qox: 4
  pax: 0
  files: 16
  timestamp: "2025-09-24T08:50:22.644440Z"

# Migration Notes:
# ---------------
# This file demonstrates how to enhance existing index.extracted.yaml files
# with IDEALE-EU federation metadata while maintaining backward compatibility.
#
# To migrate your domain:
# 1. Add schema_version, product, platform at top
# 2. Add classification (required)
# 3. List applicable standards
# 4. Create artifacts list from extracted.ATA/CAx/QOx/PAx
# 5. Define licenses per artifact type
# 6. Declare export control status
# 7. Add maintainer contacts
# 8. Keep legacy 'extracted' section for now (will be deprecated in v2.0.0)
#
# Validate with:
#   python scripts/validate_manifest.py index.extracted.yaml
#   or use CI: .github/workflows/validate-manifests.yml
