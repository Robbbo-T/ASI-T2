# AMPEL360 BWB-Q100 Trim Surfaces Configuration
# Path: PRODUCTS/AMPEL360/AMPEL360_AIR_TRANSPORT/BWB-Q100/domains/AAA/cax/CAD/wing_baseline_model/control_surfaces/trim_surfaces.yaml
# Version: 2.0
# Last Updated: 2024-09-27

metadata:
  aircraft: BWB-Q100
  surface_type: trim_tabs
  trim_strategy: distributed_trim
  coordinate_system: body_fixed

trim_surfaces:
  # Pitch Trim - Integrated in Elevons
  pitch_trim:
    - id: PTRIM_L_IN
      parent_surface: EL1_L
      type: servo_tab
      chord_fraction: 0.08
      span_fraction: [0.40, 0.60]  # Center 20% of elevon
      deflection_limits_deg:
        min: -15
        max: 15
      actuator_type: electric_trim_motor
      rate_deg_per_sec: 2
      
    - id: PTRIM_R_IN
      parent_surface: EL1_R
      type: servo_tab
      chord_fraction: 0.08
      span_fraction: [0.40, 0.60]
      deflection_limits_deg:
        min: -15
        max: 15
      actuator_type: electric_trim_motor
      rate_deg_per_sec: 2
      
    - id: PTRIM_L_OUT
      parent_surface: EL3_L
      type: servo_tab
      chord_fraction: 0.07
      span_fraction: [0.30, 0.70]
      deflection_limits_deg:
        min: -12
        max: 12
      actuator_type: electric_trim_motor
      rate_deg_per_sec: 2
      
    - id: PTRIM_R_OUT
      parent_surface: EL3_R
      type: servo_tab
      chord_fraction: 0.07
      span_fraction: [0.30, 0.70]
      deflection_limits_deg:
        min: -12
        max: 12
      actuator_type: electric_trim_motor
      rate_deg_per_sec: 2
  
  # Roll Trim - Differential Elevon Bias
  roll_trim:
    - id: RTRIM_SYSTEM
      type: electronic_bias
      implementation: elevon_differential
      max_bias_deg: 5
      resolution_deg: 0.1
      
  # Yaw Trim - Rudder Tabs
  yaw_trim:
    - id: YTRIM_L
      parent_surface: RUD_L_UPPER
      type: trim_tab
      chord_fraction: 0.10
      span_fraction: [0.20, 0.80]
      deflection_limits_deg:
        min: -20
        max: 20
      actuator_type: electric_trim_motor
      rate_deg_per_sec: 3
      
    - id: YTRIM_R
      parent_surface: RUD_R_UPPER
      type: trim_tab
      chord_fraction: 0.10
      span_fraction: [0.20, 0.80]
      deflection_limits_deg:
        min: -20
        max: 20
      actuator_type: electric_trim_motor
      rate_deg_per_sec: 3
      
  # BWB-Specific: Span Load Distribution Trim
  span_load_trim:
    - id: LOAD_TRIM_1
      location: wing_section_25_percent
      type: adjustable_tab
      chord_fraction: 0.05
      span_m: 2.0
      deflection_limits_deg:
        min: -5
        max: 5
      purpose: optimize_span_loading
      
    - id: LOAD_TRIM_2
      location: wing_section_50_percent
      type: adjustable_tab
      chord_fraction: 0.05
      span_m: 2.0
      deflection_limits_deg:
        min: -5
        max: 5
      purpose: optimize_span_loading
      
    - id: LOAD_TRIM_3
      location: wing_section_75_percent
      type: adjustable_tab
      chord_fraction: 0.05
      span_m: 1.8
      deflection_limits_deg:
        min: -5
        max: 5
      purpose: optimize_span_loading

trim_control:
  pilot_interface:
    pitch_trim_wheel: enabled
    roll_trim_knob: enabled
    yaw_trim_knob: enabled
    
  autopilot_interface:
    auto_trim: enabled
    trim_rate_limit_deg_per_sec: 0.5
    
  trim_indicators:
    type: EFIS_display
    green_band_deg: [-2, 2]
    
cg_envelope_compensation:
  enabled: true
  strategy: automatic_trim_scheduling
  cg_range_percent_mac: [15, 35]
  
maintenance:
  rigging_check_interval_hours: 1000
  tab_free_play_limit_mm: 0.5
  actuator_backlash_limit_deg: 0.2

integration:
  fcs_interface: ARINC429
  trim_computer: dual_redundant
  power_source: essential_bus_28VDC