---
title: "ATA-42 OS General Manual"
publication_code: PUB-A42-OS-GEN-00000-00
version: 1.1
issue_date: 2025-09-30
classification: INTERNAL–EVIDENCE-REQUIRED
source_dms:
  - DMC-Q100-A-42-00-00-00A-010A-D-EN-US.xml   # General OS Description
  - DMC-Q100-A-42-10-00-00A-010A-D-EN-US.xml   # Design Overview
maintainer: IIS (Integrated Information Systems)
---

# ATA-42 OS General Manual

## Overview

This manual describes the AQUA-OS Integrated Modular Avionics (IMA) platform for the BWB-Q100. AQUA-OS provides an ARINC 653–conformant partitioned execution environment with deterministic time and robust space partitioning, suitable for hosting safety-critical (DAL A–D) applications under DO-178C and for integration per DO-297 (IMA roles and responsibilities).

## Contents

1. [General Description](#general-description)  
2. [Design Overview](#design-overview)  
3. [Key Features](#key-features)  
4. [Operating Modes & Boot Flow](#operating-modes--boot-flow)  
5. [Partition & Scheduling Model](#partition--scheduling-model)  
6. [Inter-Partition Communication & Time Services](#inter-partition-communication--time-services)  
7. [I/O Virtualization](#io-virtualization)  
8. [Health Monitoring & Fault Management](#health-monitoring--fault-management)  
9. [Configuration Model](#configuration-model)  
10. [Standards Compliance](#standards-compliance)  
11. [Verification & Evidence](#verification--evidence)  
12. [Source Data Modules](#source-data-modules)  
13. [Related Publications](#related-publications)
14. [Glossary](Glossary)

---

## General Description

AQUA-OS is a separation-kernel–based avionics OS that enforces ARINC 653 time and space partitioning. It supports a federated IMA deployment model with clearly defined DO-297 roles (Platform Supplier, Application Supplier, and System Integrator). The platform enables:

- Deterministic partition scheduling (major/minor frames)  
- Strong memory/process isolation among partitions  
- Standardized APEX services and health monitoring  
- Inter-partition communication (sampling/queuing) with bounded latency  
- Managed I/O access for avionics networks and devices

### Purpose

Provide a minimal, high-assurance kernel and IMA services so application software may be independently developed, verified, and integrated while preserving system safety objectives.

### Design Assurance

The partitioning kernel and core ARINC 653 services are developed and verified to support hosting **DAL A** applications. Certification evidence demonstrates partitioning integrity (freedom from interference, time/space enforcement) and satisfies the applicable DO-178C objectives commensurate with its use in the IMA context (per DO-297).

---

## Design Overview

### Architecture

- **Separation Kernel (SK):** enforces time/space partitioning; minimal trusted computing base (TCB).  
- **Partition Manager (PM):** lifecycle control (COLD/WARM/HOT start), scheduling table enforcement.  
- **APEX Services:** partition mgmt, process mgmt, time, IPC (sampling/queuing), HM.  
- **I/O Manager:** mediation layer for ARINC 429, AFDX (ARINC 664 P7), discretes, serial.  
- **Health Monitor (HM):** partition/system-level error handling, actions, and reporting.  
- **Configuration Loader:** validates and loads static configuration at initialization.

### Design Principles

- Minimal TCB; strict least-privilege  
- Determinism first (no dynamic allocation in kernel; bounded services)  
- Separation of concerns (kernel vs. partitions vs. I/O)  
- Verifiable properties (requirements-to-tests traceability; robust HM)

---

## Key Features

### Time Partitioning
- Static **major frame** with fixed **partition windows**  
- Non-preemptive execution inside each window (preemption optional within partition processes)  
- Bounded scheduling jitter; configuration validity checks at load time

### Space Partitioning
- MMU/MPU-backed isolated regions per partition  
- No kernel dynamic heap; partition-local heaps allowed under quotas  
- Controlled shared memory (explicitly declared, read/write policies)

### Health Monitoring
- Partition and system HM tables with error → action mapping  
- Actions: log, restart partition (WARM/HOT), stop, or system reconfig/shutdown  
- Error origins tracked (application, driver, kernel, external I/O)

### Communication
- **Sampling ports** (latest value, time-stamped)  
- **Queuing ports** (FIFO with bounded depth)  
- Configurable refresh/BAG budgets tied to scheduling tables

### I/O Management
- Mediated access; device drivers in I/O partitions where feasible  
- Static routing/policing policies for networked I/O (AFDX VLs, ARINC 429 labels)

---

## Operating Modes & Boot Flow

1. **COLD START:** initialize kernel, validate configuration hashes, create partitions, start per schedule.  
2. **WARM START:** restart selected partitions with retained system state.  
3. **HOT START:** minimal restart path for rapid recovery (within partition).  
4. **MAINTENANCE MODE:** diagnostics and data loading under restricted policies.

---

## Partition & Scheduling Model

- **Major Frame:** fixed duration (e.g., 40–100 ms) defined per platform.  
- **Partition Windows:** each partition assigned one or more non-overlapping windows.  
- **Temporal Requirements:** partition compute time + IPC deadlines must fit windows.  
- **Overrun Policy:** HM action on budget exceed (log, restart, or system action).

**Illustrative schedule snippet (YAML):**
```yaml
schedule:
  major_frame_ms: 80
  windows:
    - name: FCC_A
      offset_ms: 0
      duration_ms: 20
    - name: NAV
      offset_ms: 20
      duration_ms: 15
    - name: DISPLAYS
      offset_ms: 35
      duration_ms: 20
    - name: MAINT
      offset_ms: 55
      duration_ms: 10
    - name: FCC_B
      offset_ms: 65
      duration_ms: 15
````

---

## Inter-Partition Communication & Time Services

**Sampling Ports**

* Configurable refresh period and validity timeouts; readers detect stale data.

**Queuing Ports**

* Bounded depth; overflow policy: drop/flag with HM event.

**Time Services**

* Monotonic system time; partition timers bounded to window availability.
* Time-sync via platform time source (e.g., AFDX/PTP or IRIG-B) exposed read-only to partitions requiring synchronization.

---

## I/O Virtualization

* **AFDX (ARINC 664 P7):** VL mapping declared in OS config; policing ensures BAG/Lmax conformance; partitions see virtual NICs with declared bandwidth envelopes.
* **ARINC 429:** label/SDI mapping with RX/TX direction and rate limits; driver isolation.
* **Discrete/Serial:** rate-limited, debounced, and HM-reported on faults.

---

## Health Monitoring & Fault Management

**Partition HM Table (example):**

| Error             | Source    | Action                 | Notes                                 |
| ----------------- | --------- | ---------------------- | ------------------------------------- |
| APPLICATION_ERROR | Partition | LOG                    | HM counter increment                  |
| DEADLINE_MISS     | Scheduler | RESTART_PARTITION(HOT) | after N occurrences → WARM            |
| MEMORY_VIOLATION  | MMU       | STOP_PARTITION         | escalate to SYSTEM_ACTION if repeated |
| PORT_OVERFLOW     | IPC       | LOG                    | optional backpressure to sender       |

**System HM Table (example):**

| Event                  | Threshold     | Action           |
| ---------------------- | ------------- | ---------------- |
| PARTITION_RESTART_RATE | >3 per 10 min | SYSTEM_RECONFIG  |
| DRIVER_FAULT           | 1             | ENTER_MAINT_MODE |
| TIME_SYNC_LOSS         | >100 ms drift | ALERT + LOG      |

---

## Configuration Model

Configuration is **static** and verified at load time (hash + schema).

```yaml
os_config:
  version: 1
  integrity:
    schema: "uix://schemas/ata42/os_config.schema.json"
    sha256: "<canonical_hash>"
  partitions:
    - name: FCC_A
      dal: A
      memory:
        code_kib: 1024
        data_kib: 2048
      windows: ["FCC_A"]
      ipc:
        sampling_out: [{port: "fc_state", size: 256, refresh_ms: 10}]
        queuing_in: [{port: "nav_bus", depth: 8}]
    - name: NAV
      dal: B
      windows: ["NAV"]
  io:
    afdx:
      vnic:
        - partition: FCC_A
          vls: [1001, 1003]
        - partition: NAV
          vls: [1002]
    a429:
      rx_labels:
        - partition: NAV
          bus: "A429_1"
          labels: [0x210, 0x212]
hm:
  partition_actions: "configs/hm_partition.yaml"
  system_actions: "configs/hm_system.yaml"
```

---

## Standards Compliance

### ARINC 653 (APEX)

* Partition, process, time, and HM services per Part 1 (core) with selected Part 2 extensions as applicable.
* Deterministic behavior evidenced via schedule conformance tests and timing analysis.

### DO-297 (IMA)

* Roles and data-load governance defined; partitioning evidence supports application independence; integration procedures documented.

### DO-178C / DO-330

* Software life-cycle at objectives commensurate with partitioning kernel use for DAL A hosting; qualified tools per DO-330 where applicable.

### ARP4754B / ARP4761A (2023)

* OS safety requirements traceable to system FHA/PSSA/SSA; FDAL/IDAL allocation justified; CCA interfaces respected (ZSA/PRA/CMA).

### DO-326A / ED-202A, DO-356A / ED-203A, DO-355 / ED-204A

* Airworthiness security process, methods, and continuing airworthiness integrated; security controls do not violate safety/partitioning constraints.

> **Note:** ED-112A (crash-protected recorders) is not applicable to the OS; references removed.

---

## Verification & Evidence

* **Partitioning integrity:** spatial/temporal interference tests; MMU policy proofs; schedule overrun handling.
* **APEX conformance:** API behavioral tests; error paths; HM actions.
* **Timing:** worst-case execution time (WCET) budgets vs. window; IPC latency bounds.
* **I/O policing:** AFDX BAG/Lmax conformance; ARINC 429 rate/label filtering.
* **Security touchpoints:** TARA/IUEI impacts assessed; HM integration for security-relevant faults.
* **Configuration integrity:** schema validation + cryptographic hash anchoring.

Artifacts are cross-referenced to DMs and maintained under QS/UTCS evidence anchors.

---

## Source Data Modules

* [DMC-Q100-A-42-00-00-00A-010A-D-EN-US.xml](../dmodule/DMC-Q100-A-42-00-00-00A-010A-D-EN-US.xml) — General OS Description
* [DMC-Q100-A-42-10-00-00A-010A-D-EN-US.xml](../dmodule/DMC-Q100-A-42-10-00-00A-010A-D-EN-US.xml) — Design Overview

## Related Publications

* [Design Specification](./PUB-A42-OS-DES-00000-00.md)
* [Test Documentation](./PUB-A42-OS-TST-00000-00.md)

---

**Document Control**

| Field            | Value                      |
| ---------------- | -------------------------- |
| Publication Code | PUB-A42-OS-GEN-00000-00    |
| Version          | 1.1                        |
| Issue Date       | 2025-09-30                 |
| Maintainer       | IIS                        |
| Classification   | INTERNAL–EVIDENCE-REQUIRED |


# Glossary — ATA-42 OS (AQUA-OS)

## 1) Standards & Guidance

* **ARINC 653** — API and services standard for time/space partitioning (APEX) in IMA.
* **ARINC 664 Part 7 (AFDX)** — Deterministic Ethernet with Virtual Links (VL) and Bandwidth Allocation Gap (BAG).
* **ARINC 429** — Unidirectional point-to-point bus using 32-bit words (Label/SDI/SSM).
* **DO-178C (ED-12C)** — Airborne software development assurance (DAL A–E).
* **DO-254 (ED-80)** — Airborne electronic hardware development assurance.
* **DO-297 (ED-124)** — IMA roles, responsibilities, and integration processes.
* **DO-330 (ED-215)** — Software tool qualification (TQL levels).
* **DO-326A / ED-202A** — Airworthiness security process.
* **DO-356A / ED-203A** — Airworthiness security methods and considerations.
* **DO-355 / ED-204A** — Continuing airworthiness security (in-service).
* **ARP4754B (ED-79B)** — Aircraft & systems development; requirements and FDAL/IDAL allocation.
* **ARP4761A (ED-135)** — Safety assessment process (FHA/PSSA/SSA/CCA).
* **DO-160** — Environmental/electromagnetic qualification for airborne equipment.
* **ED-112A** — Crash-protected flight/cockpit recorders (typically not applicable to the OS itself).

## 2) IMA & Kernel

* **IMA (Integrated Modular Avionics)** — Shared platform hosting multiple applications with enforced segregation.
* **Separation Kernel (SK)** — Minimal trusted kernel enforcing time/space partitioning and freedom from interference.
* **TCB (Trusted Computing Base)** — Minimal set of components that must be trusted and verified.
* **APEX** — ARINC 653 service interfaces (partition, process, time, communication, health monitoring).
* **Partition** — Isolated container with defined CPU/memory budgets and communication policy.
* **Process** — Thread/task inside a partition; may be preemptive within the partition’s policy.
* **Health Monitor (HM)** — Error detection/handling at partition and system level.

## 3) Scheduling & Timing

* **Major Frame** — Fixed period that contains all partition windows.
* **Partition Window** — Non-overlapping time slice assigned to a partition within the major frame.
* **WCET (Worst-Case Execution Time)** — Upper bound on execution time used for timing verification.
* **Jitter** — Deviation from scheduled execution instants; must be bounded.
* **Overrun** — Exceeding a time or resource budget; triggers HM policy.

## 4) IPC & Time Services

* **Sampling Port** — Last-value port with timestamp; readers detect stale data via validity time.
* **Queuing Port** — FIFO port with bounded depth; defined overflow policy.
* **Refresh Period / Validity** — Update period and acceptable data age for sampling ports.
* **Timebase** — Monotonic system time available to partitions.
* **Time Sync (PTP/IRIG-B)** — Platform time synchronization exposed read-only to consumers.

## 5) I/O & Networks

* **VL (Virtual Link)** — Unidirectional logical flow in AFDX with deterministic QoS.
* **BAG (Bandwidth Allocation Gap)** — Minimum interval between VL frames.
* **Lmax** — Maximum frame size configured for a VL.
* **PCP (802.1Q Priority Code Point)** — Layer-2 priority used for switch queue selection (if applicable).
* **EWIS** — Electrical wiring interconnection system (routing, harnesses, terminations).

## 6) Safety (ARP4754B/ARP4761A)

* **FHA (Functional Hazard Assessment)** — Identifies functional hazards and severities.
* **AFHA** — Aircraft-level FHA.
* **PSSA (Preliminary System Safety Assessment)** — Preliminary objectives and architecture by risk.
* **PASA** — Aircraft-level PSSA.
* **SSA (System Safety Assessment)** — Verification (qualitative/quantitative) that safety objectives are met.
* **ASA** — Aircraft-level SSA.
* **CCA (Common Cause Analysis)** — ZSA (Zonal), PRA (Particular Risks), CMA (Common Mode) analyses.
* **DAL (Design Assurance Level)** — A–E levels for software/hardware per failure severity.
* **FDAL** — Functional DAL (at function level).
* **IDAL** — Item DAL (at hardware/software item level implementing the function).
* **FTA / FMEA** — Fault Tree Analysis / Failure Modes and Effects Analysis.

## 7) Security (Airworthiness)

* **TARA** — Threat Assessment & Risk Analysis.
* **IUEI** — Intentional Unauthorized Electronic Interaction.
* **Security Controls** — Mitigations that must not violate partitioning or safety constraints.
* **CAS (Continuing Airworthiness Security)** — In-service security monitoring and response.

## 8) Evidence, Config & Compliance

* **Configuration Baseline** — Verified, immutable configuration (schema + cryptographic hash/signature).
* **SBOM** — Software bill of materials (integrity/transparency artifact).
* **TQL (Tool Qualification Level)** — DO-330 level for tools impacting certification credit.
* **Conformance Test** — Evidence that APEX, scheduling, and IPC behave as specified.
* **Schedulability Analysis** — Proof that all timing constraints are met given WCET and schedules.
* **QS / UTCS (project-specific)** — Quantum State / Universal Traceability & Configuration System for evidence anchoring.
* **MAL-EEM (project-specific)** — Ethics & empathy guardrails policy.

## 9) Miscellaneous

* **Cold / Warm / Hot Start** — Full / partial / minimal restart paths for recovery and maintenance.
* **I/O Partition** — Partition dedicated to device drivers to isolate I/O faults.
* **Gateway** — Controlled bridge across domains (e.g., IFE ↔ ATA-42) with whitelisting and filtering.
* **Independence** — Design/verification separation enabling DAL allocation reductions.
* **Freedom from Interference** — Assurance that one software component cannot adversely affect another in time, space, or communication.




